> rest-express@1.0.0 dev
OpenAI API key is configurederver/index.ts
10:16:46 PM [express] serving on port 5000
Browserslist: browsers data (caniuse-lite) is 8 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
10:16:54 PM [express] GET /api/auth/me 304 in 198ms :: {"user":{"id":91,"username":"strong","displayN…
10:17:24 PM [express] GET /api/auth/me 304 in 156ms :: {"user":{"id":91,"username":"strong","displayN…
10:17:55 PM [express] GET /api/auth/me 304 in 164ms :: {"user":{"id":91,"username":"strong","displayN…
10:18:25 PM [express] GET /api/auth/me 304 in 149ms :: {"user":{"id":91,"username":"strong","displayN…
10:18:56 PM [express] GET /api/auth/me 304 in 154ms :: {"user":{"id":91,"username":"strong","displayN…
10:19:27 PM [express] GET /api/auth/me 304 in 151ms :: {"user":{"id":91,"username":"strong","displayN…
10:19:58 PM [express] GET /api/auth/me 304 in 153ms :: {"user":{"id":91,"username":"strong","displayN…
10:20:28 PM [express] GET /api/auth/me 304 in 165ms :: {"user":{"id":91,"username":"strong","displayN…
10:20:59 PM [express] GET /api/auth/me 304 in 38ms :: {"user":{"id":91,"username":"strong","displayNa…
10:21:00 PM [express] GET /api/auth/me 200 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:21:05 PM [express] GET /api/auth/me 200 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:21:10 PM [express] POST /api/auth/login 200 in 163ms :: {"user":{"id":91,"username":"strong","disp…
10:21:10 PM [express] GET /api/auth/me 200 in 38ms :: {"user":{"id":91,"username":"strong","displayNa…
10:21:11 PM [express] GET /api/contacts 304 in 169ms :: {"contacts":[{"id":55,"userId":91,"contactUse…
10:21:11 PM [express] GET /api/chat-rooms 200 in 358ms :: {"chatRooms":[{"id":83,"name":"사랑","isGroup…
10:21:11 PM [express] GET /api/unread-counts 200 in 438ms :: {"unreadCounts":[]}
10:21:12 PM [express] GET /api/chat-rooms/83/messages 200 in 43ms :: {"messages":[{"id":343,"chatRoom…
10:21:12 PM [express] GET /api/chat-rooms/42/messages 304 in 41ms :: {"messages":[{"id":89,"chatRoomI…
10:21:12 PM [express] GET /api/chat-rooms/43/messages 304 in 40ms :: {"messages":[{"id":93,"chatRoomI…
10:21:12 PM [express] GET /api/chat-rooms/44/messages 304 in 43ms :: {"messages":[]}
10:21:12 PM [express] GET /api/chat-rooms/45/messages 304 in 40ms :: {"messages":[{"id":101,"chatRoom…
10:21:13 PM [express] GET /api/contacts/recent-posts 304 in 38ms :: []
10:21:17 PM [express] GET /api/unread-counts 304 in 446ms :: {"unreadCounts":[]}
10:21:18 PM [express] POST /api/chat-rooms/direct 200 in 2ms
10:21:22 PM [express] GET /api/unread-counts 304 in 438ms :: {"unreadCounts":[]}
10:21:23 PM [express] GET /api/chat-rooms/83/messages 304 in 44ms :: {"messages":[{"id":343,"chatRoom…
10:21:23 PM [express] GET /api/commands 304 in 154ms :: {"commands":[]}
10:21:24 PM [express] POST /api/chat-rooms/83/mark-read 200 in 74ms :: {"success":true}
10:21:24 PM [express] POST /api/chat-rooms/83/mark-read 200 in 76ms :: {"success":true}
10:21:24 PM [express] GET /api/chat-rooms/83/messages 304 in 176ms :: {"messages":[{"id":343,"chatRoo…
10:21:24 PM [express] GET /api/chat-rooms 304 in 185ms :: {"chatRooms":[{"id":83,"name":"사랑","isGroup…
10:21:24 PM [express] GET /api/unread-counts 304 in 440ms :: {"unreadCounts":[]}
10:21:24 PM [express] GET /api/chat-rooms/83/messages 304 in 43ms :: {"messages":[{"id":343,"chatRoom…
10:21:24 PM [express] GET /api/chat-rooms 304 in 205ms :: {"chatRooms":[{"id":83,"name":"사랑","isGroup…
10:21:25 PM [express] GET /api/unread-counts 304 in 441ms :: {"unreadCounts":[]}
10:21:29 PM [express] POST /api/upload-voice 200 in 136ms :: {"fileUrl":"/uploads/voice_1750112489352…
Processing audio file: voice_message.webm 37187 bytes
Starting audio transcription with language detection...
Audio file path: /home/runner/workspace/uploads/a33c748b0c3b80d80361e9e81f1b1389
Audio buffer read successfully, size: 37187 bytes
Audio blob created with type audio/webm
FormData prepared for OpenAI API
10:21:29 PM [express] GET /api/auth/me 200 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
Direct API call successful
Audio transcription completed: {
  text: '테스트를 해 보도록 하겠습니다',
  language: 'korean',
  duration: 3.180000066757202
}
Audio file saved: uploads/voice_1750112490829.webm URL: /uploads/voice_1750112490829.webm
10:21:30 PM [express] POST /api/transcribe 200 in 1343ms :: {"success":true,"transcription":"테스트를 해 보…
10:21:30 PM [express] GET /api/unread-counts 304 in 437ms :: {"unreadCounts":[]}
Message creation - Request body: {
  "content": "테스트를 해 보도록 하겠습니다",
  "messageType": "voice",
  "fileUrl": "/uploads/voice_1750112489352_nlffrpa8cf.webm",
  "fileName": "voice_message.webm",
  "fileSize": 0,
  "voiceDuration": 3,
  "detectedLanguage": "korean",
  "confidence": "0.9"
}
Message creation - Chat room ID: 83
Message creation - User ID: 91
Message creation - Parsed data: {
  "chatRoomId": 83,
  "senderId": 91,
  "content": "테스트를 해 보도록 하겠습니다",
  "messageType": "voice",
  "fileUrl": "/uploads/voice_1750112489352_nlffrpa8cf.webm",
  "fileName": "voice_message.webm",
  "fileSize": 0,
  "voiceDuration": 3,
  "detectedLanguage": "korean",
  "confidence": "0.9"
}
10:21:31 PM [express] POST /api/chat-rooms/83/messages 200 in 116ms :: {"message":{"id":372,"chatRoom…
간편음성메세지 브로드캐스트 시작: 83 참가자: 2
WebSocket 연결 없음 또는 닫힘: 106
메시지 전송 성공: 91
10:21:31 PM [express] GET /api/chat-rooms/83/messages 200 in 43ms :: {"messages":[{"id":343,"chatRoom…
10:21:31 PM [express] GET /api/chat-rooms 200 in 202ms :: {"chatRooms":[{"id":83,"name":"사랑","isGroup…
10:21:31 PM [express] GET /api/chat-rooms/83/messages 304 in 43ms :: {"messages":[{"id":343,"chatRoom…
10:21:31 PM [express] GET /api/chat-rooms/83/messages 304 in 44ms :: {"messages":[{"id":343,"chatRoom…
10:21:31 PM [express] GET /api/chat-rooms 304 in 152ms :: {"chatRooms":[{"id":83,"name":"사랑","isGroup…
10:21:31 PM [express] GET /api/chat-rooms/83/messages 304 in 41ms :: {"messages":[{"id":343,"chatRoom…
10:21:32 PM [express] POST /api/chat-rooms/83/mark-read 200 in 73ms :: {"success":true}
10:21:32 PM [express] POST /api/chat-rooms/83/mark-read 200 in 82ms :: {"success":true}
10:21:32 PM [express] GET /api/chat-rooms/83/messages 304 in 41ms :: {"messages":[{"id":343,"chatRoom…
10:21:32 PM [express] GET /api/chat-rooms 304 in 169ms :: {"chatRooms":[{"id":83,"name":"사랑","isGroup…
10:21:32 PM [express] GET /api/chat-rooms/83/messages 304 in 44ms :: {"messages":[{"id":343,"chatRoom…
10:21:32 PM [express] GET /api/chat-rooms 304 in 130ms :: {"chatRooms":[{"id":83,"name":"사랑","isGroup…
10:21:32 PM [express] GET /api/unread-counts 304 in 443ms :: {"unreadCounts":[]}
10:21:33 PM [express] GET /api/unread-counts 304 in 440ms :: {"unreadCounts":[]}
10:21:38 PM [express] GET /api/unread-counts 304 in 441ms :: {"unreadCounts":[]}
10:21:41 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:21:44 PM [express] GET /api/unread-counts 304 in 440ms :: {"unreadCounts":[]}
10:21:49 PM [express] POST /api/chat-rooms/direct 200 in 5ms
10:21:50 PM [express] GET /api/unread-counts 304 in 439ms :: {"unreadCounts":[]}
10:21:51 PM [express] GET /api/contacts 304 in 40ms :: {"contacts":[{"id":55,"userId":91,"contactUser…
10:21:55 PM [express] GET /api/unread-counts 304 in 440ms :: {"unreadCounts":[]}
10:22:00 PM [express] GET /api/auth/me 304 in 38ms :: {"user":{"id":91,"username":"strong","displayNa…
10:22:01 PM [express] GET /api/unread-counts 304 in 446ms :: {"unreadCounts":[]}
10:22:07 PM [express] GET /api/unread-counts 304 in 431ms :: {"unreadCounts":[]}
10:22:11 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:22:12 PM [express] GET /api/unread-counts 304 in 441ms :: {"unreadCounts":[]}
10:22:18 PM [express] GET /api/unread-counts 304 in 439ms :: {"unreadCounts":[]}
10:22:24 PM [express] GET /api/unread-counts 304 in 450ms :: {"unreadCounts":[]}
10:22:29 PM [express] GET /api/unread-counts 304 in 437ms :: {"unreadCounts":[]}
10:22:31 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:22:35 PM [express] GET /api/unread-counts 304 in 436ms :: {"unreadCounts":[]}
10:22:41 PM [express] GET /api/unread-counts 304 in 438ms :: {"unreadCounts":[]}
10:22:41 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:22:46 PM [express] GET /api/unread-counts 304 in 437ms :: {"unreadCounts":[]}
10:22:52 PM [express] GET /api/unread-counts 304 in 435ms :: {"unreadCounts":[]}
10:22:58 PM [express] GET /api/unread-counts 304 in 435ms :: {"unreadCounts":[]}
10:23:01 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:23:03 PM [express] GET /api/unread-counts 304 in 437ms :: {"unreadCounts":[]}
10:23:09 PM [express] GET /api/unread-counts 304 in 439ms :: {"unreadCounts":[]}
10:23:11 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:23:15 PM [express] GET /api/unread-counts 304 in 436ms :: {"unreadCounts":[]}
10:23:20 PM [express] GET /api/unread-counts 304 in 446ms :: {"unreadCounts":[]}
10:23:26 PM [express] GET /api/unread-counts 304 in 434ms :: {"unreadCounts":[]}
10:23:32 PM [express] GET /api/unread-counts 304 in 439ms :: {"unreadCounts":[]}
10:23:32 PM [express] GET /api/auth/me 304 in 154ms :: {"user":{"id":91,"username":"strong","displayN…
10:23:38 PM [express] GET /api/unread-counts 304 in 470ms :: {"unreadCounts":[]}
10:23:42 PM [express] GET /api/auth/me 304 in 40ms :: {"user":{"id":91,"username":"strong","displayNa…
10:23:43 PM [express] GET /api/unread-counts 304 in 439ms :: {"unreadCounts":[]}
10:23:49 PM [express] GET /api/unread-counts 304 in 439ms :: {"unreadCounts":[]}
10:23:55 PM [express] GET /api/unread-counts 304 in 462ms :: {"unreadCounts":[]}
10:24:00 PM [express] GET /api/unread-counts 304 in 444ms :: {"unreadCounts":[]}
10:24:03 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:24:06 PM [express] GET /api/unread-counts 304 in 441ms :: {"unreadCounts":[]}
10:24:12 PM [express] GET /api/unread-counts 304 in 436ms :: {"unreadCounts":[]}
10:24:12 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:24:17 PM [express] GET /api/unread-counts 304 in 442ms :: {"unreadCounts":[]}
10:24:23 PM [express] GET /api/unread-counts 304 in 436ms :: {"unreadCounts":[]}
10:24:29 PM [express] GET /api/unread-counts 304 in 440ms :: {"unreadCounts":[]}
10:24:33 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:24:34 PM [express] GET /api/unread-counts 304 in 446ms :: {"unreadCounts":[]}
10:24:40 PM [express] GET /api/unread-counts 304 in 441ms :: {"unreadCounts":[]}
10:24:42 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:24:46 PM [express] GET /api/unread-counts 304 in 441ms :: {"unreadCounts":[]}
10:24:51 PM [express] GET /api/unread-counts 304 in 472ms :: {"unreadCounts":[]}
10:24:57 PM [express] GET /api/unread-counts 304 in 437ms :: {"unreadCounts":[]}
10:25:03 PM [express] GET /api/unread-counts 304 in 438ms :: {"unreadCounts":[]}
10:25:04 PM [express] GET /api/auth/me 200 in 124ms :: {"user":{"id":91,"username":"strong","displayN…
10:25:26 PM [express] GET /api/auth/me 200 in 156ms :: {"user":{"id":91,"username":"strong","displayN…
10:25:29 PM [express] POST /api/auth/login 200 in 178ms :: {"user":{"id":91,"username":"strong","disp…
10:25:29 PM [express] GET /api/auth/me 200 in 39ms :: {"user":{"id":91,"username":"strong","displayNa…
10:25:30 PM [express] GET /api/contacts 304 in 156ms :: {"contacts":[{"id":55,"userId":91,"contactUse…
10:25:30 PM [express] GET /api/chat-rooms 304 in 193ms :: {"chatRooms":[{"id":83,"name":"사랑","isGroup…
10:25:30 PM [express] GET /api/chat-rooms/83/messages 304 in 42ms :: {"messages":[{"id":343,"chatRoom…
10:25:30 PM [express] GET /api/chat-rooms/42/messages 304 in 41ms :: {"messages":[{"id":89,"chatRoomI…
10:25:30 PM [express] GET /api/unread-counts 304 in 599ms :: {"unreadCounts":[]}
10:25:30 PM [express] GET /api/chat-rooms/43/messages 304 in 40ms :: {"messages":[{"id":93,"chatRoomI…
10:25:30 PM [express] GET /api/chat-rooms/44/messages 304 in 38ms :: {"messages":[]}
10:25:31 PM [express] GET /api/chat-rooms/45/messages 304 in 40ms :: {"messages":[{"id":101,"chatRoom…
10:25:32 PM [express] GET /api/contacts/recent-posts 304 in 42ms :: []
10:25:34 PM [express] GET /api/auth/me 200 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:25:36 PM [express] GET /api/unread-counts 304 in 433ms :: {"unreadCounts":[]}
10:25:38 PM [express] POST /api/chat-rooms/direct 200 in 3ms
10:25:42 PM [express] GET /api/unread-counts 304 in 429ms :: {"unreadCounts":[]}
10:25:47 PM [express] GET /api/unread-counts 304 in 431ms :: {"unreadCounts":[]}
10:25:53 PM [express] POST /api/chat-rooms/direct 200 in 6ms
10:25:53 PM [express] GET /api/unread-counts 304 in 436ms :: {"unreadCounts":[]}
10:25:59 PM [express] GET /api/unread-counts 304 in 432ms :: {"unreadCounts":[]}
10:26:00 PM [express] GET /api/auth/me 304 in 36ms :: {"user":{"id":91,"username":"strong","displayNa…
10:26:00 PM [express] GET /api/chat-rooms/83/messages 304 in 42ms :: {"messages":[{"id":343,"chatRoom…
10:26:00 PM [express] GET /api/commands 304 in 165ms :: {"commands":[]}
10:26:00 PM [express] POST /api/chat-rooms/83/mark-read 200 in 73ms :: {"success":true}
10:26:00 PM [express] POST /api/chat-rooms/83/mark-read 200 in 82ms :: {"success":true}
10:26:01 PM [express] GET /api/chat-rooms 304 in 184ms :: {"chatRooms":[{"id":83,"name":"사랑","isGroup…
10:26:01 PM [express] GET /api/chat-rooms/83/messages 304 in 173ms :: {"messages":[{"id":343,"chatRoo…
10:26:01 PM [express] GET /api/unread-counts 304 in 478ms :: {"unreadCounts":[]}
10:26:01 PM [express] GET /api/chat-rooms/83/messages 304 in 41ms :: {"messages":[{"id":343,"chatRoom…
10:26:01 PM [express] GET /api/chat-rooms 304 in 187ms :: {"chatRooms":[{"id":83,"name":"사랑","isGroup…
10:26:02 PM [express] GET /api/unread-counts 304 in 443ms :: {"unreadCounts":[]}
10:26:05 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:26:07 PM [express] GET /api/unread-counts 304 in 432ms :: {"unreadCounts":[]}
10:26:09 PM [express] GET /api/contacts 304 in 37ms :: {"contacts":[{"id":55,"userId":91,"contactUser…
10:26:11 PM [express] GET /api/contacts/recent-posts 304 in 38ms :: []
10:26:13 PM [express] GET /api/unread-counts 304 in 443ms :: {"unreadCounts":[]}
10:26:17 PM [express] POST /api/chat-rooms/direct 200 in 4ms
10:26:19 PM [express] GET /api/unread-counts 304 in 431ms :: {"unreadCounts":[]}
10:26:31 PM [express] GET /api/auth/me 200 in 155ms :: {"user":{"id":91,"username":"strong","displayN…
10:26:36 PM [express] GET /api/auth/me 304 in 37ms :: {"user":{"id":91,"username":"strong","displayNa…
10:27:02 PM [express] GET /api/auth/me 304 in 150ms :: {"user":{"id":91,"username":"strong","displayN…